<!-- <!DOCTYPE html>
<html>
<head>
    <title>Blood Sugar Logs</title>
    <style>
        table {
            font-family: Arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td, th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <h1>Blood Sugar Logs</h1>
    <table id="sugarlog-table">
        <tr>
            <th>Date</th>
            <th>Blood Sugar AM Time</th>
            <th>Blood Sugar AM Level</th>
            <th>Breakfast Menu</th>
            <th>Breakfast Time</th>
            <th>Lunch Menu</th>
            <th>Lunch Time</th>
            <th>Dinner Menu</th>
            <th>Dinner Time</th>
            <th>Blood Sugar PM Time</th>
            <th>Blood Sugar PM Level</th>
        </tr>
    </table>
    <script>
        fetch('http://127.0.0.1:8000/data/sugarlog/')
            .then(response => response.json())
            .then(data => {
                const table = document.getElementById('sugarlog-table');
                data.forEach(log => {
                    const row = table.insertRow(-1);
                    row.insertCell(0).textContent = log.date;
                    row.insertCell(1).textContent = log.blood_sugar_am_time;
                    row.insertCell(2).textContent = log.blood_sugar_am_level;
                    row.insertCell(3).textContent = log.breakfast_menu;
                    row.insertCell(4).textContent = log.breakfast_time;
                    row.insertCell(5).textContent = log.lunch_menu;
                    row.insertCell(6).textContent = log.lunch_time;
                    row.insertCell(7).textContent = log.dinner_menu;
                    row.insertCell(8).textContent = log.dinner_time;
                    row.insertCell(9).textContent = log.blood_sugar_pm_time;
                    row.insertCell(10).textContent = log.blood_sugar_pm_level;
                });
            })
            .catch(error => console.error(error));
    </script>
</body>
</html> -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Blood Sugar Log</title>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th, td {
        text-align: left;
        padding: 8px;
      }
      th {
        background-color: #4CAF50;
        color: white;
      }
      tr:nth-child(even) {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <h1>Blood Sugar Log</h1>
    <table id="logTable">
      <thead>
        <tr>
          <th>Date</th>
          <th>Blood Sugar AM Time</th>
          <th>Blood Sugar AM Level</th>
          <th>Breakfast Menu</th>
          <th>Breakfast Time</th>
          <th>Lunch Menu</th>
          <th>Lunch Time</th>
          <th>Dinner Menu</th>
          <th>Dinner Time</th>
          <th>Blood Sugar PM Time</th>
          <th>Blood Sugar PM Level</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    <script>
    token = localStorage.getItem('access_token')
    console.log(token)
      fetch('http://127.0.0.1:8000/data/sugarlog/', {
        headers: {
          'Content-type': 'application/json; charset=UTF-8',
          'Authorization': `Bearer ${token}`,
        }
      })
      .then(response => response.json())
      .then(data => {
        console.log(data)
        const logTable = document.getElementById('logTable');
        const tbody = logTable.getElementsByTagName('tbody')[0];
        data.forEach(log => {
          const row = document.createElement('tr');
          const dateCell = document.createElement('td');
          dateCell.textContent = log.date;
          row.appendChild(dateCell);
          const amTimeCell = document.createElement('td');
          amTimeCell.textContent = log.blood_sugar_am_time;
          row.appendChild(amTimeCell);
          const amLevelCell = document.createElement('td');
          amLevelCell.textContent = log.blood_sugar_am_level;
          row.appendChild(amLevelCell);
          const breakfastMenuCell = document.createElement('td');
          breakfastMenuCell.textContent = log.breakfast_menu;
          row.appendChild(breakfastMenuCell);
          const breakfastTimeCell = document.createElement('td');
          breakfastTimeCell.textContent = log.breakfast_time;
          row.appendChild(breakfastTimeCell);
          const lunchMenuCell = document.createElement('td');
          lunchMenuCell.textContent = log.lunch_menu;
          row.appendChild(lunchMenuCell);
          const lunchTimeCell = document.createElement('td');
          lunchTimeCell.textContent = log.lunch_time;
          row.appendChild(lunchTimeCell);
          const dinnerMenuCell = document.createElement('td');
          dinnerMenuCell.textContent = log.dinner_menu;
          row.appendChild(dinnerMenuCell);
          const dinnerTimeCell = document.createElement('td');
          dinnerTimeCell.textContent = log.dinner_time;
          row.appendChild(dinnerTimeCell);
          const pmTimeCell = document.createElement('td');
          pmTimeCell.textContent = log.blood_sugar_pm_time;
          row.appendChild(pmTimeCell);
          const pmLevelCell = document.createElement('td');
          pmLevelCell.textContent = log.blood_sugar_pm_level;
          row.appendChild(pmLevelCell);
          tbody.appendChild(row);
        });
      })
      .catch(error => console.error(error));
    </script>
  </body>
  </html>

